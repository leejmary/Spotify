function getRelatedByID(a){return $.get(BASE_URL+"artists/"+a+"/related-artists").pipe(trimResults).pipe(renderRelatedTemplate)}function trimResults(a){return a.artists.length>RELATED_LIMIT&&(a.artists=a.artists.slice(0,RELATED_LIMIT)),a}function renderRelatedTemplate(a){console.log("relatedArtists: ",a),console.log("passed to template2: ",a.artists);var b=$relatedArtistTemplate.tmpl(a.artists);console.log("renderedTemplate: ",b),$("#relatedartists").html(b)}function searchArtists(a){var b={q:a,type:"artist",limit:SEARCH_LIMIT,offset:0,market:"US"},c=BASE_URL+"search";return $.get(c,b).pipe(renderSearchResults)}function renderSearchResults(a){searchResultData=a;for(var b=a.artists.items,c="",d=0;d<b.length;d++){var e=b[d].name,f=b[d].id;c+='<li><a class="artist" data-selected-index="'+d+'" data-artist-name="'+e+'" href="'+f+'">'+e+"</a></li>"}$searchResults.html(c)}function justDisplayResponse(a){console.log("response: ",a)}var BASE_URL="https://api.spotify.com/v1/",SEARCH_LIMIT=5,RELATED_LIMIT=6,$ajaxlog=$("#ajaxlog"),$searchResults=$("#searchresults"),$selectedArtistTemplate=$("#selectedartisttemplate"),$relatedArtistTemplate=$("#relatedartisttemplate"),$spotifyResults=$("#spotifyresults"),searchResultData={};$(document).ajaxComplete(function(){$ajaxlog.append("<li>Request Complete.</li>")}),$(document).ajaxError(function(a,b,c,d){$ajaxlog.append("<li>Error requesting page <b>"+c.url+"</b></li>"),$ajaxlog.append("<li>Error Thrown: <b>"+d+"</b></li>")}),$(document).ajaxSend(function(a,b,c){$ajaxlog.append("<li>Starting request at "+c.url+"</li>")}),$(document).ajaxStart(function(){$ajaxlog.append("<li>ajax call started</li>")}),$(document).ajaxStop(function(){$ajaxlog.append("<li>ajax call stopped</li>")}),$(document).ajaxSuccess(function(){$ajaxlog.append("<li>Successful Request!</li>")}),$(".modal-trigger").leanModal(),$("#btnsearchartists").on("click",function(){var a=$("#txtArtistSearch").val();a.length>2&&($searchResults.html(""),searchArtists(a))}),$("body").on("click",".artist",function(a){a.preventDefault(),selectedIndex=$(this).attr("data-selected-index"),selectedID=$(this).attr("href"),selectedArtistData=searchResultData.artists.items[selectedIndex],console.log("passed to template1: ",selectedArtistData);var b=$selectedArtistTemplate.tmpl(selectedArtistData);console.log("renderedTemplate: ",b),$spotifyResults.html(b),getRelatedByID(selectedID),$("#searchcard").addClass("hidden"),$("#hiddenrow").removeClass("hidden").addClass("animated bounceInDown")}),$("body").on("click","#searchagainbutton",function(){$("#searchcard").removeClass("hidden").addClass("animated bounceInDown"),$("#hiddenrow").removeClass("animated bounceInDown").addClass("hidden")}),searchArtists("Dave Matthews");
//# sourceMappingURL=main.min.js.map